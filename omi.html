<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ¸ ã‚ãªãŸã®æ‹ã®ç¾åœ¨åœ°ã¨ã€æ¬¡ã®ä¸€æ­©ã‚’è¦‹ã¤ã‘ã‚‹ æ‹æ„›ãŠã¿ãã˜ ğŸŒ¸</title>
    <style>
        body {
            font-family: 'Hiragino Sans', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã‚·ãƒƒã‚¯', 'ãƒ¡ã‚¤ãƒªã‚ª', Meiryo, 'MS PGothic', 'ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯', sans-serif;
            background-color: #fff0f5; /* æ·¡ã„ãƒ”ãƒ³ã‚¯ç³»ã®èƒŒæ™¯ */
            color: #5d4037; /* è½ã¡ç€ã„ãŸãƒ–ãƒ©ã‚¦ãƒ³ç³»ã®æ–‡å­—è‰² */
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ä¸Šå¯„ã› */
            min-height: 100vh;
        }

        .container {
            background-color: #ffffff;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #d81b60; /* ã‚„ã‚„æ¿ƒã„ãƒ”ãƒ³ã‚¯ */
            font-size: 1.6em;
            margin-bottom: 25px;
        }

        h2 {
            color: #880e4f; /* ã•ã‚‰ã«æ¿ƒã„ãƒ”ãƒ³ã‚¯ */
            font-size: 1.3em;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .question-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 10px;
            color: #795548; /* å°‘ã—æ¿ƒã„ã‚ã®ãƒ–ãƒ©ã‚¦ãƒ³ */
        }

        .options-group label {
            display: block;
            margin-bottom: 8px;
            padding: 10px;
            background-color: #fce4ec; /* è–„ã„ãƒ”ãƒ³ã‚¯ */
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options-group label:hover {
            background-color: #f8bbd0; /* å°‘ã—æ¿ƒã„ãƒ”ãƒ³ã‚¯ */
        }

        .options-group input[type="radio"] {
            margin-right: 10px;
            display: none; /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³è‡ªä½“ã¯éš ã™ */
        }
        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³é¢¨ */
        .options-group label::before {
            content: "â™¡"; /* æœªé¸æŠæ™‚ã®ãƒãƒ¼ãƒˆ */
            display: inline-block;
            margin-right: 8px;
            color: #e91e63; /* ãƒ”ãƒ³ã‚¯ */
        }
        .options-group input[type="radio"]:checked + label::before {
            content: "ğŸ’–"; /* é¸æŠæ™‚ã®è¼ããƒãƒ¼ãƒˆ */
            color: #c2185b;
        }
        .options-group input[type="radio"]:checked + label {
            background-color: #f48fb1; /* æ¿ƒã„ã‚ã®ãƒ”ãƒ³ã‚¯ */
            color: #fff;
            font-weight: bold;
        }


        button {
            background-color: #ec407a; /* ãƒ¡ã‚¤ãƒ³ã®ãƒ”ãƒ³ã‚¯ */
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px; /* ä¸¸ã¿ã‚’å¸¯ã³ãŸãƒœã‚¿ãƒ³ */
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 15px;
        }

        button:hover {
            background-color: #d81b60; /* å°‘ã—æ¿ƒã„ãƒ”ãƒ³ã‚¯ */
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        #resultSection {
            margin-top: 30px;
            padding: 20px;
            background-color: #fff8f2; /* æ¸©ã‹ã¿ã®ã‚ã‚‹ã‚¯ãƒªãƒ¼ãƒ è‰² */
            border-radius: 8px;
            border: 1px solid #ffe0b2; /* ã‚ªãƒ¬ãƒ³ã‚¸ãŒã‹ã£ãŸç·š */
        }

        .unsei-rank {
            font-size: 1.2em;
            font-weight: bold;
            color: #c2185b; /* æ¿ƒã„ãƒ”ãƒ³ã‚¯ */
            margin-bottom: 15px;
        }

        .result-message p {
            margin-bottom: 12px;
            text-align: left;
        }
        .message-intro {
            font-size: 1.1em;
            color: #7b1fa2; /* ç´«ç³»ã§ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
        }
        .message-details {
            margin-top: 15px;
            padding-left: 10px;
            border-left: 3px solid #ffc107; /* é»„è‰²ç³»ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ©ã‚¤ãƒ³ */
        }
        .message-details p:first-child { /* "ä»Šã®ã‚ãªãŸã¯â€¦"ãªã© */
            font-weight: bold;
            color: #ad1457; /* å¼·èª¿ã®ãƒ”ãƒ³ã‚¯ */
        }

        .footer-message {
            margin-top: 20px;
            font-style: italic;
            color: #8d6e63; /* ãƒ–ãƒ©ã‚¦ãƒ³ç³» */
        }

        #resetButton {
            background-color: #7cb342; /* ã‚°ãƒªãƒ¼ãƒ³ç³» */
        }
        #resetButton:hover {
            background-color: #558b2f;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ¸ ã‚ãªãŸã®æ‹ã®ç¾åœ¨åœ°ã¨ã€æ¬¡ã®ä¸€æ­©ã‚’è¦‹ã¤ã‘ã‚‹ æ‹æ„›ãŠã¿ãã˜ ğŸŒ¸</h1>

        <div id="questionsSection">
            <div class="question-group">
                <p id="question1Text" class="question-text"></p>
                <div id="question1Options" class="options-group">
                </div>
            </div>

            <div class="question-group">
                <p id="question2Text" class="question-text"></p>
                <div id="question2Options" class="options-group">
                </div>
            </div>

            <button id="drawButton">ãŠã¿ãã˜ã‚’å¼•ã</button>
            <p id="userFeedback" style="color: red; margin-top: 10px;"></p> </div>

        <div id="resultSection" class="hidden">
            <h2>--- æ‹æ„›ãŠã¿ãã˜ã®çµæœ ---</h2>
            <p class="unsei-rank">ã€ã‚ãªãŸã®æ‹ã®é‹å‹¢ï¼š<span id="unseiRank"></span>ã€‘</p>
            
            <div class="result-message">
                <p class="message-intro">ğŸ’Œ <span id="resultIntro"></span></p>
                <div class="message-details">
                    <p><strong>ä»Šã®ã‚ãªãŸã¯â€¦</strong></p>
                    <p id="resultRecognition"></p>
                </div>
                <div class="message-details">
                    <p><strong>æ¬¡ã®ä¸€æ­©ã®ãƒ’ãƒ³ãƒˆâœ¨</strong></p>
                    <p id="resultStep"></p>
                </div>
                <div class="message-details">
                    <p><strong>æœªæ¥ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</strong></p>
                    <p id="resultHope"></p>
                </div>
            </div>
            <p class="footer-message">ã“ã®çµæœãŒã€ã‚ãªãŸã®ç´ æ•µãªæ‹ã®ä¸€åŠ©ã¨ãªã‚Šã¾ã™ã‚ˆã†ã«ã€‚</p>
            <button id="resetButton">ã‚‚ã†ä¸€åº¦å¼•ã</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- ãƒ‡ãƒ¼ã‚¿å®šç¾© ---
            const questionsSky = {
                q_id: "sky",
                text: "ä»Šã€ã‚ãªãŸã®å¿ƒã¯ã©ã‚“ãªç©ºæ¨¡æ§˜ï¼Ÿ",
                options: {
                    "1": "å¿«æ™´",
                    "2": "æ™´ã‚Œæ™‚ã€…æ›‡ã‚Š",
                    "3": "æ›‡ã‚Šç©º",
                    "4": "å°é›¨",
                    "5": "åµã®æ°—é…"
                }
            };

            const questionsConcern = {
                q_id: "concern",
                text: "ãã£ã¨èƒ¸ã«æ‰‹ã‚’å½“ã¦ã¦ã¿ã¦ã€‚ä»Šã€ä¸€ç•ªæ°—ã«ãªã‚‹ã®ã¯ã©ã‚“ãªã“ã¨ï¼Ÿ",
                options: {
                    "1": "æ–°ã—ã„é¢¨ã‚’æ„Ÿã˜ãŸã„ï¼ˆå‡ºä¼šã„ãƒ»å¤‰åŒ–ï¼‰",
                    "2": "ã‚ã®äººã¨ã®ç‰©èªã‚’é€²ã‚ãŸã„ï¼ˆç‰¹å®šã®ç›¸æ‰‹ï¼‰",
                    "3": "ã‚‚ã£ã¨è‡ªåˆ†ã‚’å¥½ãã«ãªã‚ŠãŸã„ï¼ˆè‡ªå·±è‚¯å®šæ„Ÿï¼‰",
                    "4": "ç©ã‚„ã‹ãªæ„›ã‚’è‚²ã¿ãŸã„ï¼ˆé–¢ä¿‚æ€§ã®å®‰å®šãƒ»æ·±åŒ–ï¼‰"
                }
            };

            const omikujiResults = {
                "å¤§å‰": [
                    {
                        "id": "daikichi_01",
                        "intro": "ã¾ã‚‹ã§ç¥ç¦ã®å…‰ãŒé™ã‚Šæ³¨ãã‚ˆã†ã«ã€ã‚ãªãŸã®å¿ƒã¯ä»Šã€è¼ãã«æº€ã¡ã¦ã„ã¾ã™ã­ã€‚",
                        "recognition": "ã“ã‚Œã¾ã§ã‚ãªãŸãŒå¤§åˆ‡ã«è‚²ã‚“ã§ããŸæƒ³ã„ã‚„åŠªåŠ›ãŒã€ç´ æ™´ã‚‰ã—ã„å½¢ã§èŠ±é–‹ã“ã†ã¨ã—ã¦ã„ã¾ã™ã€‚ã¾ã‚‹ã§ç‰©èªã®ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ãŒè¿‘ã¥ã„ã¦ã„ã‚‹ã‚ˆã†ãªã€ãã‚“ãªãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹äºˆæ„ŸãŒã—ã¾ã›ã‚“ã‹ï¼Ÿ",
                        "step": "ãã®ç´ æ™´ã‚‰ã—ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ã€æ€ã„åˆ‡ã£ã¦è¡¨ç¾ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ç¬‘é¡”ã§æŒ¨æ‹¶ã™ã‚‹ã€æ„Ÿè¬ã®è¨€è‘‰ã‚’ä¼ãˆã‚‹ã€ãã‚“ãªå°ã•ãªä¸€æ­©ãŒã€æƒ³åƒä»¥ä¸Šã®å¤§ããªå–œã³ã‚’å¼•ãå¯„ã›ã‚‹éµã«ãªã‚Šã¾ã™ã€‚",
                        "hope": "å¤§ä¸ˆå¤«ã€ã‚ãªãŸã¯æ„›ã•ã‚Œã‚‹ä¾¡å€¤ã®ã‚ã‚‹å­˜åœ¨ã§ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦ã€ç´ æ™´ã‚‰ã—ã„æ‹ã®ç‰©èªã‚’ç´¡ã„ã§ã„ã£ã¦ãã ã•ã„ã­ã€‚"
                    },
                    {
                        "id": "daikichi_02",
                        "intro": "å¿ƒãŒæ™´ã‚Œæ¸¡ã‚Šã€ã¾ã‚‹ã§æ–°ã—ã„ä¸–ç•Œã®æ‰‰ãŒé–‹ã„ãŸã‚ˆã†ãªæ¸…ã€…ã—ã„æ°—æŒã¡ã§ã„ã£ã±ã„ãªã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ",
                        "recognition": "ã‚ãªãŸã®å†…ãªã‚‹é­…åŠ›ãŒæœ€å¤§é™ã«è¼ãã€å‘¨å›²ã®äººã€…ã‚’è‡ªç„¶ã¨æƒ¹ãã¤ã‘ã‚‹ã§ã—ã‚‡ã†ã€‚ä»Šã¾ã§æ°—ã¥ã‹ãªã‹ã£ãŸè‡ªåˆ†ã®æ–°ãŸãªä¸€é¢ã‚’ç™ºè¦‹ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚ãã‚Œã¯ã€ã‚ãªãŸãŒæˆé•·ã—ãŸè¨¼ã§ã™ã€‚",
                        "step": "æ–°ã—ã„ã“ã¨ã‚’å§‹ã‚ã‚‹ã®ã«æœ€é©ãªæ™‚ã§ã™ã€‚èˆˆå‘³ã®ã‚ã‚‹ã“ã¨ã«æŒ‘æˆ¦ã—ãŸã‚Šã€æ™®æ®µè¡Œã‹ãªã„å ´æ‰€ã¸è¶³ã‚’é‹ã‚“ã§ã¿ãŸã‚Šã€‚ãã®è¡Œå‹•ãŒã€ç´ æ•µãªå‡ºä¼šã„ã‚„é–¢ä¿‚ã®é€²å±•ã«ç¹‹ãŒã‚‹ã§ã—ã‚‡ã†ã€‚",
                        "hope": "ã‚ãªãŸã®æœªæ¥ã¯ã€ç„¡é™ã®å¯èƒ½æ€§ã«æº€ã¡ã¦ã„ã¾ã™ã€‚æã‚Œãšã«ã€å¿ƒã®ã‚³ãƒ³ãƒ‘ã‚¹ãŒæŒ‡ã—ç¤ºã™æ–¹ã¸é€²ã‚“ã§ãã ã•ã„ã€‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚"
                    }
                ],
                "ä¸­å‰": [
                    {
                        "id": "chukichi_01",
                        "intro": "å„ªã—ã„é™½ã ã¾ã‚Šã®ä¸­ã«ã„ã‚‹ã‚ˆã†ãªã€ç©ã‚„ã‹ã§æ¸©ã‹ã„æ°—æŒã¡ãŒå¿ƒã‚’åŒ…ã‚“ã§ã„ã‚‹ã®ã‚’æ„Ÿã˜ã¾ã™ã€‚",
                        "recognition": "ç„¦ã‚‰ãšã€ä»Šã®å¿ƒåœ°ã‚ˆã•ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§é€²ã‚€ã“ã¨ãŒã€ç¢ºã‹ãªå¹¸ã›ã¸ã¨ç¹‹ãŒã£ã¦ã„ã¾ã™ã€‚æ—¥ã€…ã®å°ã•ãªå‡ºæ¥äº‹ã®ä¸­ã«ã€æ„›ãŠã—ã„ç¬é–“ãŒãŸãã•ã‚“éš ã‚Œã¦ã„ã¾ã™ã‚ˆã€‚",
                        "step": "è¦ªã—ã„å‹äººã‚„å®¶æ—ã¨ã€å¿ƒæ¸©ã¾ã‚‹æ™‚é–“ã‚’éã”ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸä¼šè©±ã®ä¸­ã«ã€æ‹ã‚’é€²ã‚ã‚‹ãƒ’ãƒ³ãƒˆã‚„ã€è‡ªåˆ†è‡ªèº«ã¸ã®æ°—ã¥ããŒè¦‹ã¤ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        "hope": "ã‚ãªãŸã®ç©ã‚„ã‹ãªé­…åŠ›ã¯ã€å®‰å¿ƒæ„Ÿã‚’æ±‚ã‚ã‚‹äººã«ã¨ã£ã¦ä½•ã‚ˆã‚Šã®å®ç‰©ã€‚ã‚†ã£ãã‚Šã¨ã€ã§ã‚‚ç€å®Ÿã«ã€æ„›ã‚’è‚²ã‚“ã§ã„ã‘ã‚‹ã§ã—ã‚‡ã†ã€‚"
                    },
                    {
                        "id": "chukichi_02",
                        "intro": "å°‘ã—ãšã¤éœ§ãŒæ™´ã‚Œã¦ã€é€²ã‚€ã¹ãé“ãŒã†ã£ã™ã‚‰ã¨è¦‹ãˆã¦ããŸã‚ˆã†ãªã€ãã‚“ãªæ„Ÿè¦šãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚",
                        "recognition": "ä»Šã¯ã€è‡ªåˆ†è‡ªèº«ã¨å‘ãåˆã„ã€å†…ãªã‚‹å£°ã«è€³ã‚’æ¾„ã¾ã›ã‚‹æ™‚ã€‚ã‚ãªãŸãŒæœ¬å½“ã«æœ›ã‚“ã§ã„ã‚‹ã“ã¨ã¯ä½•ãªã®ã‹ã€å¿ƒã¨å¯¾è©±ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šã‚¯ãƒªã‚¢ãªç­”ãˆãŒè¦‹ã¤ã‹ã‚‹ã¯ãšã§ã™ã€‚",
                        "step": "æ—¥è¨˜ã‚’ã¤ã‘ãŸã‚Šã€ç‘æƒ³ã‚’ã—ãŸã‚Šã™ã‚‹ã®ã‚‚è‰¯ã„ã§ã—ã‚‡ã†ã€‚ã‚ã‚‹ã„ã¯ã€ä¿¡é ¼ã§ãã‚‹äººã«è©±ã‚’èã„ã¦ã‚‚ã‚‰ã†ã®ã‚‚ä¸€ã¤ã®æ–¹æ³•ã§ã™ã€‚å¿ƒã®æ•´ç†ã‚’ã™ã‚‹ã“ã¨ã§ã€æ–°ã—ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ã„ã¦ãã¾ã™ã‚ˆã€‚",
                        "hope": "ã‚ãªãŸã®ç‰©èªã¯ã€ã“ã‚Œã‹ã‚‰æ–°ã—ã„ç« ã¸ã¨é€²ã¿ã¾ã™ã€‚ãã®ãŸã‚ã®æº–å‚™æœŸé–“ã ã¨æ€ã£ã¦ã€è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã­ã€‚å¿…ãšé“ã¯é–‹ã‘ã¾ã™ã€‚"
                    }
                ],
                "å°å‰": [
                    {
                        "id": "shokichi_01",
                        "intro": "çª“ã‹ã‚‰å·®ã—è¾¼ã‚€æŸ”ã‚‰ã‹ãªå…‰ã®ã‚ˆã†ã«ã€ã•ã•ã‚„ã‹ãªå¸Œæœ›ãŒã‚ãªãŸã®å¿ƒã‚’ç…§ã‚‰ã—å§‹ã‚ã¦ã„ã‚‹ã®ã‚’æ„Ÿã˜ã¾ã™ã€‚",
                        "recognition": "å¤§ããªå¤‰åŒ–ã‚’æ±‚ã‚ã‚‹ã‚ˆã‚Šã‚‚ã€ä»Šã‚ã‚‹æ—¥å¸¸ã®ä¸­ã«éš ã•ã‚ŒãŸå°ã•ãªå¹¸ã›ã‚„ã‚µã‚¤ãƒ³ã«æ°—ã¥ãã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚è¶³å…ƒã«å’²ãèŠ±ã®ã‚ˆã†ã«ã€è¦‹éã”ã—ãŒã¡ãªç¾ã—ã•ãŒã™ããã°ã«ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        "step": "ã„ã¤ã‚‚ã‚ˆã‚Šå°‘ã—ã ã‘å‘¨ã‚Šã‚’ã‚ˆãè¦³å¯Ÿã—ã¦ã¿ã¦ãã ã•ã„ã€‚æ„Ÿè¬ã®æ°—æŒã¡ã‚’è¨€è‘‰ã«ã—ãŸã‚Šã€å°ã•ãªè¦ªåˆ‡ã‚’å¿ƒãŒã‘ãŸã‚Šã™ã‚‹ã“ã¨ã§ã€è‰¯ã„é‹æ°—ã®æµã‚Œã‚’å¼•ãå¯„ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",
                        "hope": "æ´¾æ‰‹ã•ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã˜ã‚“ã‚ã‚Šã¨å¿ƒã«æŸ“ã¿ã‚‹ã‚ˆã†ãªæ¸©ã‹ã„å‡ºæ¥äº‹ãŒå¾…ã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã€‚ã‚ãªãŸã®å„ªã—ã„çœ¼å·®ã—ãŒã€æ„›ã‚’å¼•ãå¯„ã›ã¾ã™ã€‚"
                    }
                ],
                "æœ«å‰": [
                    {
                        "id": "suekichi_01",
                        "intro": "ä»Šã¯å°‘ã—ç«‹ã¡æ­¢ã¾ã£ã¦ã€è‡ªåˆ†ã®å¿ƒã¨ã˜ã£ãã‚Šå‘ãåˆã†æ™‚é–“ãŒå¿…è¦ãªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚",
                        "recognition": "ç„¦ã‚Šã‚„ä¸å®‰ã‚’æ„Ÿã˜ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã‚Œã¯ã‚ãªãŸãŒçœŸå‰£ã«æ‹ã¨å‘ãåˆã£ã¦ã„ã‚‹è¨¼æ‹ ã€‚ã“ã®æ™‚é–“ã¯ã€æ¬¡ã¸é€²ã‚€ãŸã‚ã®å¤§åˆ‡ãªæº–å‚™æœŸé–“ã¨æ‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
                        "step": "å¥½ããªéŸ³æ¥½ã‚’è´ã„ãŸã‚Šã€ç¾å‘³ã—ã„ã‚‚ã®ã‚’é£Ÿã¹ãŸã‚Šã€è‡ªåˆ†è‡ªèº«ã‚’åŠ´ã‚ã‚‹ã“ã¨ã‚’å„ªå…ˆã—ã¦ãã ã•ã„ã€‚å¿ƒã®æ „é¤ŠãŒæº€ãŸã•ã‚Œã‚Œã°ã€è‡ªç„¶ã¨æ–°ã—ã„é“ãŒè¦‹ãˆã¦ãã‚‹ã¯ãšã§ã™ã€‚",
                        "hope": "é›¨ä¸ŠãŒã‚Šã®è™¹ã®ã‚ˆã†ã«ã€ä»Šã®æ™‚æœŸã‚’ä¹—ã‚Šè¶ŠãˆãŸå…ˆã«ã¯ã€ãã£ã¨ç´ æ™´ã‚‰ã—ã„æ™¯è‰²ãŒå¾…ã£ã¦ã„ã¾ã™ã€‚è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ã€ã‚†ã£ãã‚Šé€²ã‚“ã§ãã ã•ã„ã­ã€‚"
                    }
                ],
                // ç‰¹å®šã®çµ„ã¿åˆã‚ã›ã«å¯¾ã™ã‚‹å®šç¾©ã¯æ®‹ã—ã¦ãŠã„ã¦ã‚‚è‰¯ã„ã§ã™ãŒã€
                // getOmikujiResulté–¢æ•°ã§å‚ç…§ã—ãªã„ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚
                // ä¾‹ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ãŒã€å®Ÿéš›ã«ã¯ã“ã®éƒ¨åˆ†ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚
                "å¿«æ™´_æ–°ã—ã„é¢¨ã‚’æ„Ÿã˜ãŸã„": [
                    {
                        "unsei": "å¤§å‰", // ã“ã®å®šç¾©ã¯ä½¿ã‚ã‚Œãªããªã‚Šã¾ã™
                        "intro": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰å¿ƒãŒçªãæŠœã‘ã‚‹ã‚ˆã†ãªé’ç©ºã§ã™ã­ï¼...",
                        "recognition": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ã‚ãªãŸã®ãƒã‚¸ãƒ†ã‚£ãƒ–ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒ...",
                        "step": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ç›´æ„Ÿã‚’ä¿¡ã˜ã¦...",
                        "hope": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ã‚­ãƒ©ã‚­ãƒ©ã¨è¼ãæœªæ¥ãŒ..."
                    }
                ],
                "æ›‡ã‚Šç©º_ã‚‚ã£ã¨è‡ªåˆ†ã‚’å¥½ãã«ãªã‚ŠãŸã„": [
                    {
                        "unsei": "ä¸­å‰", // ã“ã®å®šç¾©ã¯ä½¿ã‚ã‚Œãªããªã‚Šã¾ã™
                        "intro": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰å¿ƒã«å°‘ã—é›²ãŒ...",
                        "recognition": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ä»Šã¯ã€å¤–ã«æ±‚ã‚ã‚‹ã‚ˆã‚Šã‚‚...",
                        "step": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰å°ã•ãªæˆåŠŸä½“é¨“ã‚’...",
                        "hope": "ï¼ˆã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰é›²ã®åˆ‡ã‚Œé–“ã‹ã‚‰å…‰ãŒ..."
                    }
                ]
            };

            // --- DOMè¦ç´ å–å¾— ---
            const question1TextEl = document.getElementById('question1Text');
            const question1OptionsEl = document.getElementById('question1Options');
            const question2TextEl = document.getElementById('question2Text');
            const question2OptionsEl = document.getElementById('question2Options');
            const drawButton = document.getElementById('drawButton');
            const questionsSection = document.getElementById('questionsSection');
            const resultSection = document.getElementById('resultSection');
            
            const unseiRankEl = document.getElementById('unseiRank');
            const resultIntroEl = document.getElementById('resultIntro');
            const resultRecognitionEl = document.getElementById('resultRecognition');
            const resultStepEl = document.getElementById('resultStep');
            const resultHopeEl = document.getElementById('resultHope');
            const resetButton = document.getElementById('resetButton');
            const userFeedbackEl = document.getElementById('userFeedback');


            // --- é–¢æ•°å®šç¾© ---
            function populateQuestion(questionData, textEl, optionsEl) {
                textEl.textContent = questionData.text;
                optionsEl.innerHTML = ''; 

                for (const key in questionData.options) {
                    const optionValue = questionData.options[key];
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = questionData.q_id;
                    input.value = key;
                    input.id = `${questionData.q_id}_${key}`;

                    const label = document.createElement('label');
                    label.htmlFor = `${questionData.q_id}_${key}`;
                    label.textContent = optionValue;
                    
                    optionsEl.appendChild(input);
                    optionsEl.appendChild(label);
                }
            }

            function getSelectedAnswer(questionName) {
                const selected = document.querySelector(`input[name="${questionName}"]:checked`);
                return selected ? selected.value : null;
            }

            function getOmikujiResult(skyAnsKey, concernAnsKey) {
                // ç‰¹å®šã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚‹çµæœã®å›ºå®šã‚’æ’é™¤ã—ã¾ã™ã€‚
                // å¸¸ã«åŸºæœ¬é‹å‹¢ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã—ã¾ã™ã€‚

                const possibleUnsei = ["å¤§å‰", "ä¸­å‰", "å°å‰", "æœ«å‰"];
                const randomIndex = Math.floor(Math.random() * possibleUnsei.length);
                const chosenUnseiRank = possibleUnsei[randomIndex];
                
                if (omikujiResults[chosenUnseiRank] && omikujiResults[chosenUnseiRank].length > 0) {
                    // é¸ã°ã‚ŒãŸé‹å‹¢ã®ä¸­ã‹ã‚‰ã€ã•ã‚‰ã«ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é¸æŠ
                    const resultCandidate = omikujiResults[chosenUnseiRank][Math.floor(Math.random() * omikujiResults[chosenUnseiRank].length)];
                    // é‹å‹¢æƒ…å ±ã‚’æ˜ç¤ºçš„ã«ä»˜ä¸ã—ã¦è¿”ã™
                    return { ...resultCandidate, unsei: chosenUnseiRank };
                }

                // ä¸‡ãŒä¸€ã€é©åˆ‡ãªçµæœãŒè¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸå ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
                // (é€šå¸¸ã€omikujiResultsã®å®šç¾©ãŒæ­£ã—ã‘ã‚Œã°ã“ã“ã«ã¯åˆ°é”ã—ã¾ã›ã‚“)
                console.warn("é©åˆ‡ãªçµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã€‚");
                return {
                    unsei: "å¹³ç©", // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ã®é‹å‹¢
                    intro: "ç©ã‚„ã‹ãªä¸€æ—¥ã«ãªã‚Šãã†ã§ã™ã€‚",
                    recognition: "ä»Šã®ã‚ãªãŸã«å¿…è¦ãªã®ã¯ã€å¿ƒã®å¹³ç©ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                    step: "æ·±å‘¼å¸ã‚’ã—ã¦ã€ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ã¾ã—ã‚‡ã†ã€‚",
                    hope: "é™ã‘ã•ã®ä¸­ã«ã€æ–°ã—ã„ç™ºè¦‹ãŒã‚ã‚‹ã§ã—ã‚‡ã†ã€‚"
                };
            }

            function displayResult(result) {
                unseiRankEl.textContent = result.unsei || '---';
                resultIntroEl.textContent = result.intro;
                resultRecognitionEl.innerHTML = result.recognition.replace(/\n/g, '<br>');
                resultStepEl.innerHTML = result.step.replace(/\n/g, '<br>');
                resultHopeEl.innerHTML = result.hope.replace(/\n/g, '<br>');

                questionsSection.classList.add('hidden');
                resultSection.classList.remove('hidden');
            }

            // --- åˆæœŸåŒ–å‡¦ç† ---
            populateQuestion(questionsSky, question1TextEl, question1OptionsEl);
            populateQuestion(questionsConcern, question2TextEl, question2OptionsEl);

            // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ ---
            drawButton.addEventListener('click', () => {
                userFeedbackEl.textContent = ""; // å‰å›ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢
                const skyAnswer = getSelectedAnswer('sky');
                const concernAnswer = getSelectedAnswer('concern');

                if (!skyAnswer || !concernAnswer) {
                    userFeedbackEl.textContent = "ä¸¡æ–¹ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã­ã€‚";
                    return;
                }

                // skyAnswer ã¨ concernAnswer ã¯ getOmikujiResult ã«æ¸¡ã—ã¾ã™ãŒã€
                // é–¢æ•°å†…ã§ã“ã‚Œã‚‰ã®å€¤ã¯ä½¿ç”¨ã•ã‚Œãªããªã‚Šã¾ã™ã€‚
                const finalResult = getOmikujiResult(skyAnswer, concernAnswer);
                displayResult(finalResult);
            });

            resetButton.addEventListener('click', () => {
                userFeedbackEl.textContent = ""; // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢
                questionsSection.classList.remove('hidden');
                resultSection.classList.add('hidden');
                document.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
            });
        });
    </script>
</body>
</html>
